26.4-9.8
16.6/26.4
devtools::install_github('hhilbig/haschaR', upgrade = T, force = T, quiet = T)
library(tidyverse)
library(lfe)
library(readxl)
library(haven)
library(haschaR)
## WD
haschaR::detect_wd(wd_h = "C:/Users/hanno/Dropbox/Harvard/Projects/Antonio_Hanno_Climate/")
haschaR::auto_make_runall_file("01_Code/")
## 01 Cleanup
## ##
rm(list = ls())
## 2002 data
df02 <- read_dta("00_data/Floods/Bechtel Hainmueller 2012 AJPS Elbe Repdata/1998_2009.dta") %>%
filter(PostPeriod == 1) %>%
dplyr::select(wkr, Flooded)
## Data for the 2013 Flood
df13 <- read_excel("00_data/Floods/Flood_2013.xlsx")
df13_2 <- read_excel("00_data/Floods/Flood_2013.xlsx", sheet = 2)
df13 <- read_excel("00_data/Floods/Flood_2013.xlsx") %>%
dplyr::rename(County = District)
df13 <- read_excel("00_data/Floods/Flood_2013.xlsx") %>%
dplyr::rename(County = District) %>%
dplyr::select(-Rank) %>%
dplyr::rename(n_evac = Persons) %>%
mutate(n_evac = str_remove_all(n_evc, '><[a-zA-Z]'))
df13 <- read_excel("00_data/Floods/Flood_2013.xlsx") %>%
dplyr::rename(County = District) %>%
dplyr::select(-Rank) %>%
dplyr::rename(n_evac = Persons) %>%
mutate(n_evac = str_remove_all(n_evac, '><[a-zA-Z]'))
View(df13)
df13 <- read_excel("00_data/Floods/Flood_2013.xlsx") %>%
dplyr::rename(County = District) %>%
dplyr::select(-Rank) %>%
dplyr::rename(n_evac = Persons) %>%
mutate(n_evac = str_remove_all(n_evac, '>|<|[a-zA-Z]'))
View(df13)
df13 <- read_excel("00_data/Floods/Flood_2013.xlsx") %>%
dplyr::rename(County = District) %>%
dplyr::select(-Rank) %>%
dplyr::rename(n_evac = Persons) %>%
mutate(n_evac = str_remove_all(n_evac, '>|<|[a-zA-Z]|.|-'))
df13 <- read_excel("00_data/Floods/Flood_2013.xlsx") %>%
dplyr::rename(County = District) %>%
dplyr::select(-Rank) %>%
dplyr::rename(n_evac = Persons) %>%
mutate(n_evac = str_remove_all(n_evac, '>|<|[a-zA-Z]|\\.|-'))
View(df13)
df13 <- read_excel("00_data/Floods/Flood_2013.xlsx") %>%
dplyr::rename(County = District) %>%
dplyr::select(-Rank) %>%
dplyr::rename(n_evac = Persons) %>%
mutate(n_evac = str_remove_all(n_evac, '>|<|[a-zA-Z]|\\.|-| '))
View(df13)
df13 <- read_excel("00_data/Floods/Flood_2013.xlsx") %>%
dplyr::rename(County = District) %>%
dplyr::select(-Rank) %>%
dplyr::rename(n_evac = Persons) %>%
mutate(n_evac = str_remove_all(n_evac, '>|<|[a-zA-Z]|\\.|-| ')) %>%
mutate(n_evac = as.numeric(n_evac))
View(df13)
df13_2 <- read_excel("00_data/Floods/Flood_2013.xlsx", sheet = 2) %>%
dplyr::rename(impact_index = 2)
df13_full <- haschaR::fuzzy_string_join(df13, df13_2, 'County', 0.5)
library(devtools)
library(roxygen2)
rm(list = ls())
## Declare WDs
wd_h <- '/Users/hanno/Local_Projects/haschaR/'
wd_s <- '/Users/saschariaz/Google\ Drive_Harvard/Git/haschaR'
## Set WD
haschaR::detect_wd(wd_h = wd_h, wd_alt = wd_s, user_name = 'Hanno')
document()
